
@{
    ViewBag.Title = "RNA to RNA";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-xs-12 col-sm-offset-1 col-sm-10">
        <h3 class="text-warning">Transcript DNA to RNA</h3>
    </div>
</div>
<div class="alert alert-info alert-dismissible fade in col-xs-12 col-sm-offset-1 col-sm-10" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
    Transcript DNA Sequence only accepts <span><em>single-stranded DNA</em></span> sequence. Non "a/A", "t/T", "g/G", "c/C" and "u/U" letters, space, line break, number etc. nonprintable and printable ASCII characters will be automatically removed.<br/> This tool will not check the start and end codon of the DNA sequence. It only converts "T" to "U".
</div>
<div class="row">
    <div class="col-xs-12 col-sm-offset-1 col-sm-10">
        <div class="panel panel-primary">
            <div class="panel-heading">
                Provide a single-stranded DNA sequence
            </div>
            <div class="panel-body">
                <textarea class="form-control" id="dna" rows="15"></textarea>
            </div>
        </div>
    </div>
</div>
<br />
<div class="row hidden" id="resultDiv">
    <div class="col-xs-12 col-sm-offset-1 col-sm-10">
        <div class="panel panel-primary">
            <div class="panel-heading text-center" id="result-header">
                RNA sequence
            </div>
            <div class="panel-body">
                <textarea class="form-control" rows="15" id="result" readonly></textarea>
            </div>
        </div>
    </div>
</div>

@Scripts.Render("~/bundles/jquery")
<script src="~/Scripts/ecloning-translation.js"></script>
<script>
    //remove all non letter in the seqeuce input
    $('#dna').change(function () {
        var before = $('#dna').val();
        //strip out non-alpha characters and convert to uppercase
        var after = before.replace(/[^a-zA-Z]+|\s+$|[0-9]+/g, '').toUpperCase();
        after = after.replace(/[bdefhijklmnopqrsuvwxyzBDEFHIJKLMNOPQRSUVWZYX]+|\s+$|[0-9]+/g, '').toUpperCase();
        $('#dna').val(after);

        //transcript
        $("#result").val(transcription(after));
        $("#resultDiv").removeClass("hidden");
    });
</script>